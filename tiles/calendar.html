<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Calendar Tile (debug)</title>
  <link rel="stylesheet" href="../styles/calendar-tile.css" />
</head>
<body>
  <div class="calendar-container" id="calendar-tile" data-events='[]' style="height:520px;">
    <!-- Calendar will be rendered here by the module. -->
  </div>

  <script type="module">
    import '../js/tiles/calendar.js';

    // Wait for DOM ready then initialize the responsive CalendarTile
    document.addEventListener('DOMContentLoaded', () => {
      const root = document.getElementById('calendar-tile');
      if (!root) return;
      // Provide options if needed: { view: 'month' }
      try {
        if (window.CalendarTile && typeof window.CalendarTile.init === 'function') {
          window.CalendarTile.init(root, { view: 'month' });
        } else if (typeof CalendarTile !== 'undefined') {
          CalendarTile.init(root, { view: 'month' });
        } else {
          // fallback: try the standalone debug module if present
          import('../js/tiles/calendar-tile.js').then(m => {
            if (m.initCalendarTile) m.initCalendarTile(root);
          }).catch(() => {});
        }
      } catch (e) {
        console.error('Failed to initialize CalendarTile', e);
      }
    });
  </script>
</body>
</html>